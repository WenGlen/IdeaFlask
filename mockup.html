<!-- for display the wireframe, show the process of the website -->
<!DOCTYPE html>
<html lang="zh-Hant" >

  <head>

    <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Idea Flask mockup</title>
    <link rel="icon" href="./img/IdeaFlask_icon.png">
    <script src="https://cdn.tailwindcss.com"></script> <!-- ✅ Tailwind CDN -->
    <script type="module"> /* 自訂 Tailwind 設定 */
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              IF: {
                DEFAULT: 'var(--color-DEFAULT)',
                /*background*/
                background: 'var(--color-background)',
                panel: 'var(--color-panel)',
                overlay: 'var(--color-overlay)',
                "background-gradient-left": 'var(--color-background-gradient-left)',
                "background-gradient-right": 'var(--color-background-gradient-right)',

                /*text*/
                text: 'var(--color-text)',
                "text-muted": 'var(--color-text-muted)',
                "text-hover": 'var(--color-text-hover)',
                "text-subtle": 'var(--color-text-subtle)',
                "text-emphasis": 'var(--color-text-emphasis)',
                title: 'var(--color-title)',
                subtitle: 'var(--color-subtitle)',

                /*border*/
                border: 'var(--color-border)',

                /*other*/
                accent: 'var(--color-accent)',
                warm: 'var(--color-warm)',

              },
            },
            height: {
              'screen-header': 'calc(100vh - 3rem)', 
              'screen-header-footer': 'calc(100vh - 3rem - 4rem)', 
            },
            minHeight: {
              'screen-header': 'calc(100vh - 3rem)',
              'screen-header-footer': 'calc(100vh - 3rem - 5rem)', 
              'screen-header-footer-md': 'calc(100vh - 3rem - 3rem )', 
            },
              screens: {
               // 自定义 *x 系列断点（只在需要与 2xs/xs 配合时使用）
               '2xs': '375px',   // 375px+
               'xs': '480px',    // 480px+
               'smx': '640px',   // 640px+ (与xs系列配合使用)
               'mdx': '768px',   // 768px+ (与xs系列配合使用)
               'md+': '840px',   // 768px+ (与xs系列配合使用)
               'lgx': '1024px',  // 1024px+ (与xs系列配合使用)
               'xlx': '1280px',  // 1280px+ (与xs系列配合使用)
               '2xlx': '1536px', // 1536px+ (与xs系列配合使用)
               'under-md': { 'min': '0px', 'max': '768px' }, 
               'near-md': { 'min': '768px', 'max': '840px' },  
               
               // 其他场景继续使用默认的 sm(640), md(768), lg(1024), xl(1280), 2xl(1536)
               
                 
              },
          },
          fontSize: {
            xs: '0.75rem',
            sm: '0.875rem',
            base: '1rem',
            lg: '1.125rem',
            xl: '1.25rem',
            '2xl': '1.5rem',
            '3xl': '1.875rem',
            '4xl': '2.25rem',
            '5xl': '3rem',
            '6xl': '4rem',
            '7xl': '5rem',
            '8xl': '6rem',
            '9xl': '7rem',
          },


        },
      };
    </script>
    <style>  /* 各種切換處理 */
      .mobile-menu {opacity: 0;scale: 0;pointer-events: none; }
      .mobile-menu.active {opacity: 1; scale: 1; pointer-events: auto;}

      .input-field:focus {outline: none;} /* 關閉引導語 */

      body.modal-open > *:not(.contactOverlay):not(.contactPopUp):not(.successPopUp) {overflow: hidden;}
      body.modal-open > *:not(.contactOverlay):not(.contactPopUp):not(.successPopUp) {pointer-events: none !important;}  /* 禁止點擊彈窗以外的元素 */
      body.modal-open .contactPopUp,
      body.modal-open .successPopUp,
      body.modal-open .contactOverlay {
        pointer-events: auto; /* 保留彈窗互動 */
      }

      .contactPopUp {opacity: 0;scale: 0;pointer-events: none;}
      .contactPopUp.active {opacity: 1; scale: 1; pointer-events: auto;}
      .contactOverlay {opacity: 0; pointer-events: none;}
      .contactOverlay.active{opacity: 0.7; pointer-events: auto;}
      .successPopUp {opacity: 0;pointer-events: none;}
      .successPopUp.active {opacity: 1; pointer-events: auto;}


      .cardCanUp {transform: translateY(0); transition-duration: 500ms;}
      .cardCanUp .UpAppear {opacity: 0; transition-delay: 300ms; transition-duration: 200ms;}
      .cardCanUp .UpDisappear {opacity: 100; transition-delay: 300ms; transition-duration: 200ms;}
      .cardCanUp.active {transform: translateY(-240px); transition-duration: 500ms;}
      .cardCanUp.active .UpAppear {opacity: 100; transition-delay: 300ms; transition-duration: 200ms;}
      .cardCanUp.active .UpDisappear {opacity: 0; transition-duration: 300ms; }

      .step-name.active {background-color: var(--color-text); }


    </style>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet" />
    <style>/* 全局、瀏覽器樣式設定 */
      body {
        font-family: 'Noto Sans TC', sans-serif;
      }
      .hide-scrollbar {
        scrollbar-width: none;        /* Firefox */
        -ms-overflow-style: none;     /* IE 10+ */
      }
      .hide-scrollbar::-webkit-scrollbar {
        display: none;                /* Chrome / Safari */
      }
    </style>
    <style> /* 防止 FOUC：在 Tailwind 載入前先隱藏 body */
      
      body {visibility: hidden;}
      
      /* 額外確保彈窗在 Tailwind 載入前完全隱藏（使用更高的選擇器權重） */
      body:not(.tailwind-loaded) .contactOverlay,
      body:not(.tailwind-loaded) .contactPopUp,
      body:not(.tailwind-loaded) .successPopUp {
        display: none !important;
      }
      
      /* Tailwind 載入完成後才顯示 */
      body.tailwind-loaded {
        visibility: visible;
        transition: opacity 0.1s;
      }
    </style>
    <script> /* 檢測 Tailwind 是否載入完成 */
      (function() {
        function checkTailwindLoaded() {
          // 創建一個測試元素來檢測 Tailwind 是否已生效
          const testDiv = document.createElement('div');
          testDiv.className = 'hidden';
          testDiv.style.cssText = 'position:absolute;left:-9999px;';
          document.documentElement.appendChild(testDiv);
          
          // 檢查 Tailwind 的 .hidden 類是否已生效
          const isHidden = window.getComputedStyle(testDiv).display === 'none';
          document.documentElement.removeChild(testDiv);
          
          if (isHidden) {
            // Tailwind 已載入，顯示 body
            document.body.classList.add('tailwind-loaded');
          } else {
            // 尚未載入，50ms 後再檢查一次
            setTimeout(checkTailwindLoaded, 50);
          }
        }
        
        // DOM 準備好後開始檢測
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', checkTailwindLoaded);
        } else {
          checkTailwindLoaded();
        }
      })();
    </script>
    
    <style>
      :root {
        --color-DEFAULT: #6cb1c9;
        /*background*/
        --color-background: #f0f0f0;
        --color-panel: #ffffff;
        --color-overlay: #2a4e65;
        --color-background-gradient-left: #f0f0f0;
        --color-background-gradient-right: #d5e4e8;


        /*text*/
        --color-text:#2f5974;
        --color-text-muted: #7a92a0;
        --color-text-subtle: #bbcfdb;
        --color-text-hover: #6cb1c9;
        --color-text-emphasis:#0670a9; /*#a86634;*/
        --color-title: #4C7F9A;
        --color-subtitle: #82b4c4;

        /*border*/
        --color-border:#6cb1c9;

        /*other*/
        --color-accent: #ffdeaa;
        --color-warm: #bf8e68;

      }   
    </style>

    <style type="text/tailwindcss"> 
      .bg-SVGNoise {
          background: linear-gradient(90deg, var(--color-background-gradient-left), var(--color-background-gradient-right));
          position: relative;
      }
      .bg-SVGNoise::before {
          content: '';
          position: absolute;
          inset: 0;
          /* 噪點圖案：調整 baseFrequency (0.5~2.0) 控制密度 */
          background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.5' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
          opacity: 0.1; /* 噪點強度：0.1~0.3 */
          pointer-events: none; /* 避免干擾滑鼠事件 */
      }

      body {
        color: var(--color-text);
        line-height: 1.625;
        font-size: 1.125rem;
      }

      @media (min-width: 768px) {
        body {
          font-size: 1.25rem;
        }
      }

      a:hover {
        color: var(--color-text-hover);
      }

      h2 {
        margin: 2rem 0;
        text-align: center;
        font-size: 1.875rem;
        font-weight: 700;
        color: var(--color-title);
      }

      .input-field {
        width: 100%;   padding: 0.5rem 1rem; 
        border-width: 1px;   border-color: #D1D5DB;   border-radius: 0.125rem;
        font-size: 1rem;
      }

      .flex-col-center-center {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .flex-col-center {
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .flex-col-start-center {
        display: flex;
        flex-direction: column;
        justify-content: start;
        align-items: center;
      }

      .flex-col-between-center {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
      }

      .flex-row-between-center {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }

      .flex-row-center-center {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
      }

      .snap-start-12 {
        scroll-snap-align: start;
        scroll-margin-top: 3rem;
      }

      </style>
    

    <style>/* 開發用框線 */
      /*  
      *{outline: 1px solid #999999;} */
      .border-test {outline: 2px solid #cc9900;}
      .border-test2 {outline: 2px solid #009999;}
    </style>

  </head>



  <!-- ======================== body ======================= -->
  <body class="bg-SVGNoise text-IF-text ">   
    
    <div id="screen-size-display-tool"   
          class="fixed top-2 left-8 z-[99] 
                w-8 h-8 bg-IF-text-subtle text-center rounded-lg border border-IF-border text-base">
      <div class="block 2xs:hidden">min</div>
      <div class="hidden 2xs:block xs:hidden">2xs</div>
      <div class="hidden xs:block smx:hidden">xs</div>
      <div class="hidden sm:block md:hidden">sm</div>
      <div class="hidden md:block lg:hidden">md</div>
      <div class="hidden lg:block xl:hidden">lg</div>
      <div class="hidden xl:block 2xl:hidden">xl</div>
      <div class="hidden 2xl:block">2xl</div>
    </div>

    <header id="header" 
            class="fixed top-0 left-0 z-[60]
                   h-12 w-full bg-IF-panel shadow-md">
      <!-- 上方常駐區塊 -->
      <div class="max-w-screen-xl mx-auto  flex items-center justify-between
                  px-6
                  md:px-12">
        
        <!-- Logo -->
        <a href="#hero" >
          <img class="h-12 w-auto" 
              src="./img/IdeaFlask_logo.png" alt="概念燒瓶logo"> 
        </a>

        <!-- 導覽錨點 (桌機版) -->
        <nav class="hidden gap-8 text-lg text-IF-text
                    md:flex">
          <a href="#advantages" >解決痛點</a>
          <a href="#portfolio" >作品展示</a>
          <a href="#about" >關於我</a>
          <a href="#steps" >製作流程</a>
          <a href="#faq" >常見問題</a>
        </nav>

         <!-- 漢堡選單按鈕（手機版） -->
        <button id="menu-toggle" 
                class="flex items-center justify-center h-full
                       md:hidden">
          <img class="h-6" src="./img/icon/hamburger-menu.png" alt="">
        </button>
        
      </div>

      <!-- 手機版展開選單 -->
      <div id="mobile-menu" 
           class="mobile-menu transition-all duration-100 origin-top-right
                  w-full bg-IF-panel shadow-lg
                  text-xl leading-relaxed
                  md:hidden">
        <div class="mx-6 w-100% h-px bg-IF-border"></div>
        <nav class="w-full flex-col-start-center p-8 gap-4">
          <a href="#advantages" >解決痛點</a>
          <a href="#portfolio" >作品展示</a>
          <a href="#about" >關於我</a>
          <a href="#steps" >製作流程</a>
          <a href="#faq" >常見問題</a>
        </nav>
      </div>

      <script>
        /* 手機版選單展開控制 */
        document.addEventListener('DOMContentLoaded', () => {
          const toggle = document.getElementById('menu-toggle');
          const menu = document.getElementById('mobile-menu');

          toggle.addEventListener('click', () => {
            menu.classList.toggle('active');
          });
          
          const links = menu.querySelectorAll('a');
          links.forEach(link => {
            link.addEventListener('click', () => {
                menu.classList.add('active');
            });
          });

        });

        /* 手機版轉桌面版強制關閉選單 */
        function mdCloseMenu() {
          if (window.innerWidth < 768) { 
            return;
          } else {
          const menu = document.getElementById('mobile-menu');
          menu.classList.remove('active');
          }
        }
        window.addEventListener('resize', mdCloseMenu ); 
            
      </script>

    </header>

    <section id="contact" >
      
      <!-- 懸浮按鈕 -->
      <button id="contactBtn"
              class="group fixed bottom-12  z-40
                     h-16 w-16 rounded-full shadow-md
                     bg-IF-panel flex-row-center-center overflow-hidden 
                     transition-all duration-300 
                     hover:w-56
                     under-md:left-8
                     md:right-8">
        <div class="fixed bottom-12  z-50 
                    h-16 w-16 rounded-full bg-IF-panel flex-row-center-center
                    under-md:left-8
                    md:right-8">
          <img src="./img/icon/sent.png" alt="聯絡我" class="h-8 w-8" />
        </div>
          <span class="whitespace-nowrap text-xl text-IF-text
                      translate-x-2 transition-all duration-300
                      group-hover:translate-x-0 
                         ml-12     mr-0
                      md:ml-0   md:mr-12">
            洽詢製作網頁
          </span>

      </button>

      <!-- 半透明背景遮罩 -->
      <div class="contactOverlay
                  fixed inset-0 z-40 bg-IF-overlay
                  transition-opacity duration-300"></div>

      <!-- 洽詢彈窗 -->
      <div id="contactPopUp"
          class="contactPopUp 
                  fixed inset-0 top-12 flex items-center justify-center z-50
                  transition-all duration-300 origin-bottom-right">
        <div  id="contactPanel"
              class="relative max-h-[80vh] w-[90vw] max-w-xl p-6 rounded-sm shadow-lg bg-white overflow-y-auto">
          <button id="PopUpCloseBtn" 
                  class="absolute top-6 right-6 text-2xl
                        text-IF-text-subtle hover:text-IF-text-muted">×</button>
          <h2 class="m-0 text-2xl text-left">你想做 Landing page 嗎？</h2>
          <p class="mb-4 text-base text-IF-text-muted">歡迎填寫以下表單，我將會盡快與您近一步洽談！</p>
          
            <form id="contactForm" class="space-y-4 text-base text-IF-text">
              <!-- 姓名 -->
              <div>
                <label class="block mb-1 font-medium">姓名<span class="text-red-500">*</span></label>
                <input type="text" name="name" required
                      class="input-field" 
                      placeholder="請填寫您的姓名"/>
              </div>

              <!-- 聯絡信箱 -->
              <div>
                <label class="block mb-1 font-medium">聯絡信箱<span class="text-red-500">*</span></label>
                <input type="email" name="email" required
                      class="input-field"       
                      placeholder="請填寫您的信箱"/>
              </div>

              <!-- Line ID -->
              <div>
                <label class="block mb-1 font-medium">Line ID</label>
                <input type="text" name="line"
                      class="input-field"
                      placeholder="若期望以 line 聯絡，歡迎填寫您的 Line ID"/>
              </div>

              <!-- 預計開結案日 -->
              <div class="flex justify-between gap-4">
                <div class="flex-1">
                  <label class="block mb-1 font-medium">預計開案日</label>
                  <input type="date" name="startDate"
                        class="input-field"/>
                </div>

                <!-- 預期結案日 -->
                <div class="flex-1">
                  <label class="block mb-1 font-medium">預期結案日</label>
                  <input type="date" name="endDate"
                        class="input-field" />
                </div>
              </div>

              <!-- 需求說明 -->
              <div>
                <label class="block mb-1 font-medium">需求說明</label>
                <textarea name="description" rows="4"
                          class="input-field"    
                          placeholder="請問您想做怎樣的 Landing page 呢？"></textarea>
              </div>

              <label class="text-base">
                <input type="checkbox" required>
                我已閱讀並同意
                <button type="button" class="hover:text-IF-text-hover" id="privacyBtn">隱私權政策</button> 。
              </label>

              <!-- 送出按鈕 -->
              <div class="pt-4 text-right">
                <button type="submit"
                        class="bg-IF-text text-white px-4 py-2 rounded hover:bg-IF-text-hover transition">
                  送出
                </button>
              </div>
            </form>

            <div id="privacy-content" class="hidden flex flex-col items-center">
              <div class="my-8 w-full h-px bg-IF"></div>
              <div id="privacy-container" class="mb-4"></div>
            </div>
        </div>
      </div>


      <!-- 送出成功彈窗 -->
      <div class="successPopUp
                  fixed z-50 top-1/2 left-1/2 -translate-y-1/2  -translate-x-1/2 z-50
                  w-80 h-40 bg-white rounded-sm shadow-lg p-6 flex flex-col justify-center items-center
                  transition-all duration-300">
        <button id="successCloseBtn" 
                class="absolute top-4 right-4 text-2xl
                      text-IF-text-subtle hover:text-IF-text-muted">×</button>
        <p class="text-xl text-IF font-bold">洽詢訊息成功送出</p>
      </div>

      <script>

      const contactBtn = document.getElementById('contactBtn');

      const overlay = document.querySelector('.contactOverlay');

      const contactPopup = document.querySelector('.contactPopUp');
      const closeBtn = document.getElementById('PopUpCloseBtn');
      const contactForm = document.getElementById('contactForm');

      const successPopup = document.querySelector('.successPopUp');
      const successCloseBtn = document.getElementById('successCloseBtn');


      function openPopup() {
        contactPopup.classList.add('active');

        overlay.classList.add('active');
        contactBtn.classList.add('hidden');

        document.body.classList.add('modal-open');
      }

      function closePopup() {
        contactPopup.classList.remove('active');
        successPopup.classList.remove('active');

        overlay.classList.remove('active');
        contactBtn.classList.remove('hidden');

        document.body.classList.remove('modal-open');
      }


      contactForm.addEventListener('submit', function (e) {
        e.preventDefault();

        // 這裡可以加上寄信 API 或驗證

        // 收起原本洽詢表單（但不關遮罩）
        contactPopup.classList.remove('active');

        // 顯示成功彈窗
        successPopup.classList.add('active');

        // 清空表單（可選）
        contactForm.reset();
      });

      // 關閉成功提示並移除遮罩

      contactBtn.addEventListener('click', openPopup);
      closeBtn.addEventListener('click', closePopup);
      successCloseBtn.addEventListener('click', closePopup);
      overlay.addEventListener('click', closePopup);
      contactPopup.addEventListener('click', function(e) {
        if (e.target === contactPopup) {closePopup();}
      });

      function renderPrivacy(privacyArray) {
        const container = document.getElementById('privacy-container');
        container.innerHTML = ''; // 清空原有內容

        privacyArray.forEach((item) => {
          
          const contents = document.createElement('div');
          contents.className = "";

          contents.innerHTML = `
              <h3 class="mb-2  text-base font-bold text-IF-subtitle"> ${item.title}</h3>
              <p class="mb-4 px-4 text-base leading-relaxed whitespace-pre-line ">${item.content}</p>
          `;

          container.appendChild(contents);
        });
      }

      const toggleBtn = document.querySelector("#privacyBtn");
      const privacyContent = document.querySelector("#privacy-content");
      const modal = document.querySelector("#contactPanel");

      toggleBtn.addEventListener("click", () => {
      privacyContent.classList.toggle("hidden");
      if (!privacyContent.classList.contains("hidden")) {
        // 等 DOM 更新完成再滾動
        setTimeout(() => {
          modal.scrollTo({
            top: modal.scrollHeight,
            behavior: "smooth"
          });
        }, 50);
      }
      });

      </script>

    </section>

    <div id="scroll-container" 
         class="h-screen snap-y snap-proximity overflow-y-scroll scroll-smooth hide-scrollbar" >

      <section id="hero"
                class="relative h-screen">
        <!-- 背景圖 -->
        <div class="w-full h-full bg-cover bg-center 
                    bg-[url('./img/image_material/image_3-4_material.jpg')]
                    sm:bg-[url('./img/image_material/image_1-1_material.jpg')]
                    md:bg-[url('./img/image_material/image_4-3_material.jpg')]
                    xl:bg-[url('./img/image_material/image_16-9_material.jpg')] ">
          <div class="w-full h-12 snap-start scroll-mt-12"></div>
          <div class="w-full h-screen-header"></div>

        </div>

        <!-- 壓在上面的文字 -->
        <div class="absolute inset-0  z-10 flex items-center justify-center"> <!-- 這層是壓圖＆定位置中 -->
          <div class="w-full max-w-screen-xl
                         text-center   px-4
                                    xs:px-12
                      md:text-left  mdx:px-32 "> <!-- 這層是留間距＆對齊 -->
            <div class="md:flex ">
              <h1 class="text-white font-bold 
                          leading-relaxed 
                             text-3xl      text-center    tracking-normal
                          xs:text-4xl
                                        md:text-left   md:tracking-widest">
                <span class="block md:text-4xl md:leading-relaxed">為你的需求</span>
                <span class="block md:text-5xl md:leading-relaxed">打造剛剛好的<br class="block 2xs:hidden">入口網站</span>
              </h1>
              <h2 class="-ml-[195px] mt-[30px] text-[21pt] text-white tracking-wider hidden md:block">Langing Page</h2>
            </div>

            <br>
            <p class="text-white text-lg xs:text-xl leading-relaxed">
              資訊規劃、視覺設計、網站開發<br class="block 2xs:hidden">一氣呵成<br>
              做出適合你現在需要的入口網站
            </p>
          </div>
        </div>

      </section> 
    
      <!-- 底下統一限制頁面容器寬度 -->
      <div id="wrap" 
           class="max-w-screen-xl mx-auto 
                  md:px-12">

        <div class="h-12 "></div>

        <!-- ======================== DEVing ======================= -->
        <!-- ======================== DEVing ======================= -->
        <section id="advantages" 
                 class="flex-col-between-center snap-start-12
                        min-h-screen 
                        md:h-screen-header md:min-h-[600px]">

          <div class="h-12 hidden md:block">  </div>   
          
          <div class="">
            <h2>你是否也有這些困擾？</h2>
            <div id="advantages-container" 
                class="mx-auto grid     
                           grid-cols-1     gap-12
                        md:grid-cols-3  md:gap-4
                                        lg:gap-12 ">
            </div>

          </div>
          
          <div class="py-4">
            <p class="text-center text-lg text-IF-text-muted leading-relaxed">
              完成的作品可以像這樣<br>
              ↓
            </p>
          </div>

          <script>
            function renderAdvantages(advantagesArray) {
              const container = document.getElementById('advantages-container');
              container.innerHTML = ''; // 清空先前內容（避免重複）

              advantagesArray.forEach(item => {
                const card = document.createElement('div');
                card.className = `
                    group transition-all bg-white rounded-sm overflow-hidden shadow-lg
                       h-[360px]    max-w-[460px]    cursor-pointer  
                    md:h-[480px] md:max-w-[320px] md:cursor-default
                `;
                card.innerHTML = `
                    <!-- 可以滑動的圖層 -->
                    <div class="cardCanUp
                                w-full h p-6 flex flex-col justify-center overflow-hidden object-cover 
                                transition-transform duration-500
                                md:group-hover:-translate-y-[280px]
                                lg:group-hover:-translate-y-[300px]">

                        <div class="UpDisappear
                                    w-full overflow-hidden flex items-center justify-center 
                                    h-[240px] 
                                    md:group-hover:opacity-0 duration-500   
                                    md:h-[240px] md:mt-6  
                                    lg:h-[280px] ">
                          <img src="./img/${item.image}" alt="" 
                               class="max-w-[280px] min-h-[240px] max-h-[280px] object-cover">
                          
                        </div>

                        <p class="UpAppear 
                                  text-IF-text-subtle text-right 
                                  md:opacity-0 ">▲</p>
                        <h3 class="font-bold text-2xl text-IF text-center 
                                   near-md:text-xl">
                            ${item.title}
                        </h3>
                        <p class="UpDisappear text-IF-text-subtle text-right md:hidden ">▼</p>
                        <br class="hidden md:block ">
                        <br>
                        <p class="UpAppear leading-relaxed opacity-0
                                  md:group-hover:opacity-100 duration-500
                                     text-xl
                                  md:text-lg md:opacity-0 
                                  lg:text-xl">
                          <span>${item.content}</span>
                          <br class="near-md:hidden">
                          <br>
                          <span class="font-bold text-IF-text-emphasis">${item.emphasis}</span>
                        </p>
                  </div>
                    

                `;

                 // ✅ 這裡綁定點擊事件
                const content = card.querySelector('.cardCanUp');
                content.addEventListener('click', () => {
                  // 只在小螢幕啟用
                  if (window.innerWidth < 768) {
                    content.classList.toggle('active');
                  }
                });

                window.addEventListener('resize', () => {
                  if (window.innerWidth >= 768) {
                    // 清掉所有卡片的 active 狀態
                    document.querySelectorAll('.cardCanUp.active')
                      .forEach(el => el.classList.remove('active'));
                  }
                });

                container.appendChild(card);
              });
            }
          </script>
        
        </section>
        <!-- ======================== DEVend ======================= -->

        <div class="h-12 "></div>


        <section id="portfolio"
                 class="w-full
                        flex-col-center snap-start-12 snap-end
                        min-h-screen-header
                        md:h-screen-header">
          
          <div class="relative
                      h-full bg-IF-panel  
                      md:py-12 md:bg-transparent" > <!-- 定位用 -->
            
            <div id="portfolio-container" 
                 class="relative bg-IF-panel       shadow-none
                        md:h-full md:min-h-full md:shadow-lg">
            </div>    

            <div id="data-controls">
              <div id="dot-container" 
                   class="absolute h-12 gap-4 flex-row-center-center 
                             top-[300px]                 w-full
                          md:top-auto md:bottom-12 md:w-1/2">
              </div>
              
              <div class="hover:opacity-100 duration-100
                          opacity-100
                          md:opacity-0 ">
                <button id="prev-btn" 
                        class="absolute left-0 z-10 
                               w-36 text-IF-panel
                                  top-[300px]                    h-12        text-IF-text-subtle  
                               md:top-1/2 md:-translate-y-1/2 md:h-full   md:text-IF-panel
                               bg-gradient-to-r from-IF-background-gradient-left to-transparent ">◀</button>
              </div>

              <div class="hover:opacity-100 duration-100
                          opacity-100
                          md:opacity-0 ">
                <button id="next-btn" 
                        class="absolute right-0   z-10 
                               w-48 
                                  top-[300px]                    h-12        text-IF-text-subtle
                               md:top-1/2 md:-translate-y-1/2 md:h-full   md:text-IF-panel
                               bg-gradient-to-l from-IF-background-gradient-right to-transparent">▶</button>
              </div>
            </div>

          </div>

          <script>
            function renderPortfolio(portfolioArray) {
              const container = document.getElementById('portfolio-container');
              const dotContainer = document.getElementById('dot-container');

              portfolioArray.forEach((item, index) => {
                const block = document.createElement('div');
                block.className = `
                    portfolio-item
                    absolute inset-0 h-full
                    transition-all duration-500 ease-in-out
                    ${index === 0 ? 'opacity-100 pointer-events-auto' : 'opacity-0  pointer-events-none'}
                `;
                block.innerHTML = `
                    <div class="portfolio-inner flex 
                                   flex-col
                                md:flex-row md:w-full md:h-full ">
                      
                      <img src="./img/${item.image16_9}" alt="${item.title}"
                           class="mb-12 object-cover
                                  block h-[300px] min-h-[300px]
                                  md:hidden">

                      <img src="./img/${item.image3_4}" alt="${item.title}"
                           class="object-cover 
                                  hidden 
                                  md:block md:w-1/2 md:mh-full ">

                      <div class="w-full h-full bg-IF-panel px-8
                                  overflow-y-auto flex-col-center 
                                  md:w-1/2">
                        <p class="mt-6 mb-2 font-bold text-IF">作品名稱</p>
                        <h3 class="font-bold text-3xl">${item.title}</h3>
                        <p class="mt-6 mb-2 font-bold text-IF">頁面目標</p>
                        <p>${item.objectives}</p>
                        <p class="mt-6 mb-2 font-bold text-IF">解決方案</p>
                        <ul class="mb-6 list-disc pl-6 space-y-4">
                        ${item.solution}
                        </ul> 
                      </div>
                    </div>

                `;
                container.appendChild(block);

                // 圖片加載完成後更新高度
                const images = block.querySelectorAll('img');
                images.forEach(img => {
                  img.addEventListener('load', () => {
                    if (index === 0) { // 只在第一張圖片時更新
                      updateContainerHeight();
                    }
                  });
                });

                // 產生 dot
                const dot = document.createElement('button');
                dot.className = `dot w-3 h-3 rounded-full ${index === 0 ? 'bg-IF' : 'bg-IF-text-subtle'} `;
                dot.setAttribute('data-index', index);
                dotContainer.appendChild(dot);
              });

              setupPortfolioControls(portfolioArray.length);
              setTimeout(() => {updateContainerHeight();}, 100); // 圖片載入後再更新
            }
            </script>
            <script>/* 切換控制*/

            function setupPortfolioControls(totalItems) {
              let currentIndex = 0;

              const items = document.querySelectorAll('.portfolio-item');
              const dots = document.querySelectorAll('.dot');
              const prevBtn = document.getElementById('prev-btn');
              const nextBtn = document.getElementById('next-btn');

              function updateDisplay(newIndex) {
                const direction = newIndex > currentIndex ? 'next' : 'prev';

                items.forEach((el, i) => {
                  if (i === currentIndex) {
                    // 離場：滑出 + 淡出
                    el.classList.remove('translate-x-0', 'opacity-100');
                    el.classList.add(
                      direction === 'next' ? '-translate-x-5' : 'translate-x-5','opacity-0'
                    );
                  } else if (i === newIndex) {
                    // 先重置為不可見
                    el.classList.remove('translate-x-5', '-translate-x-5', 'opacity-0');
                    el.classList.add('opacity-0');

                    // 強制 reflow（確保動畫生效）
                    void el.offsetWidth;

                    // 加上進場動畫：只淡入
                    el.classList.remove('opacity-0');
                    el.classList.add('translate-x-0', 'opacity-100');
                  } else {
                    // 其他非 active 項目保持不可見
                    el.classList.add('opacity-0');
                  }
                });

                dots.forEach((dot, i) => {
                  dot.className = `dot w-3 h-3 rounded-full ${i === newIndex ? 'bg-IF' : 'bg-IF-text-subtle'}`;
                });

                currentIndex = newIndex;
                updateContainerHeight();
              }


              
              prevBtn.addEventListener('click', () => {
                const newIndex = (currentIndex - 1 + totalItems) % totalItems;
                updateDisplay(newIndex);
              });

              nextBtn.addEventListener('click', () => {
                const newIndex = (currentIndex + 1) % totalItems;
                updateDisplay(newIndex);
              });

              dots.forEach(dot => {
                dot.addEventListener('click', () => {
                  const index = Number(dot.getAttribute('data-index'));
                  updateDisplay(index);
                });
              });
            }

            // 緩存最大高度，避免重複計算
            let cachedMaxHeight = null;
            let lastScreenWidth = window.innerWidth;

            function updateContainerHeight() {
              const container = document.getElementById('portfolio-container');
              
              if (window.innerWidth >= 768) {
                // 桌面端：清除動態設定的高度，讓 CSS 來控制
                container.style.minHeight = '';
                cachedMaxHeight = null; // 切換到桌面端時清除緩存
              } else {
                // 移動端：使用所有 portfolio-item 中最高的高度
                
                // 如果螢幕寬度改變，重新計算最大高度
                if (cachedMaxHeight === null || lastScreenWidth !== window.innerWidth) {
                  const items = container.querySelectorAll('.portfolio-item');
                  let maxHeight = 0;
                  
                  items.forEach(item => {
                    const inner = item.querySelector('.portfolio-inner');
                    if (inner) {
                      // 暫時顯示該項目以測量高度
                      const wasVisible = item.classList.contains('opacity-100');
                      if (!wasVisible) {
                        item.style.visibility = 'hidden';
                        item.classList.add('opacity-100');
                      }
                      
                      const height = inner.offsetHeight;
                      maxHeight = Math.max(maxHeight, height);
                      
                      // 恢復原狀
                      if (!wasVisible) {
                        item.classList.remove('opacity-100');
                        item.style.visibility = '';
                      }
                    }
                  });
                  
                  // dot-container 在 top-[300px] (即 300px 位置)，高度 48px
                  const dotEndPosition = 300 + 48;
                  cachedMaxHeight = Math.max(maxHeight, dotEndPosition) + 24; // 額外 24px 底部空間
                  lastScreenWidth = window.innerWidth;
                }
                
                container.style.minHeight = cachedMaxHeight + 'px';
              }
            }
            
            window.addEventListener('resize', updateContainerHeight);
          </script>
        </section>

        <div class="h-12 "></div>
        
        <section id="about"
                 class="w-full min-h-screen-header flex-col-center snap-start-12">

          <h2>為何我能幫你做好<br class="block sm:hidden"> Landing page？</h2>

          <!-- 文案呈現全範圍 -->
          <div id="about-container" 
               class="flex-col-center-center"> 
            <!-- 自介文案+照片全範圍 -->
            <div class="relative w-full max-w-screen-md overflow-hidden flex justify-center" ><!-- 用 overflow-hidden 避免照片跑出去 -->

              <img src="./img/image_material/image_9-16_material.png" alt=""
                   class="absolute top-0 right-0 w-1/3 object-cover
                          min-h-full
                          hidden 2xs:block
                          "><!-- 照片要手動改 -->

              <div class="p-4  bg-IF-panel flex
                              mt-0     rounded-none
                           xs:mt-16  
                          mdx:mt-24 md:rounded-md  "> <!-- 白底＆留空 -->
                <div id="about-content" 
                     class="    w-full
                            2xs:w-2/3
                             md:max-w-screen-lg ">   <!-- 自介文案 -->
                </div>
              </div>

            </div>

            <p class="mt-8 mb-4 text-base text-IF-text-muted">
              我執行過的專案跟任務角色：
            </p> 

             <div class="relative mb-12 w-full overflow-hidden"> <!-- Ach全範圍 -->
               
                 <div id="about-AchSlider" 
                      class="gap-4 px-[calc((100vw-280px)/2)] flex
                             snap-x snap-mandatory 
                             overflow-x-auto overflow-hidden hide-scrollbar scroll-smooth">
                 </div>

                <div id="ach-controls">
                  <button id="front-btn" 
                          class="absolute left-0 top-1/2 -translate-y-1/2 z-10 
                                 w-12 h-full text-gray-500/20
                                 bg-gradient-to-r from-IF-background-gradient-left to-transparent ">◀</button>

                  <button id="back-btn" 
                          class="absolute right-0 top-1/2 -translate-y-1/2 z-10 
                                 w-12 h-full text-gray-500/20
                                 bg-gradient-to-l from-IF-background-gradient-right to-transparent">▶</button>
                </div>
            </div>

          </div>

          <script>
            function renderAboutMe(AboutMeArray) {
              const container = document.getElementById('about-content');
              container.innerHTML = ''; // 清空原有內容

              AboutMeArray.forEach((item) => {
                
                const contents = document.createElement('div');
                contents.className = "leading-relaxed ";

                contents.innerHTML = `
                    <h3 class="mb-4 text-xl md:text-2xl"> ${item.title}</h3>
                    <p>${item.content}</p>
                `;

                container.appendChild(contents);
              });
            }

            function renderAboutAch(AboutAchArray) {
              const container = document.getElementById('about-AchSlider');
              container.innerHTML = ''; // 清空原有內容

              AboutAchArray.forEach((item) => {
                
                const card = document.createElement('div');
                card.className = "w-[300px] shrink-0 rounded-md shadow-lg p-4 snap-center bg-IF-panel";

                card.innerHTML = `
                    <a href="${item.url}" target="_blank" class="group">
                        <h3 class="mb-4 text-center text-xl font-bold text-IF-text-emphasis">${item.ability}</h3>
                        <img src="${item.image}" alt="${item.title}" 
                            class="w-full h-32 object-cover rounded-sm mb-2">
                        <h3 class="text-lg font-bold">${item.title} </h3>
                        <p class="mb-2 text-base text-IF-text-muted group-hover:text-IF-text-hover">${item.role}</p>
                        <p class="text-base ">${item.introduce}</p>
                    </a>
                `;

                container.appendChild(card);
              });
            }
            const slider = document.getElementById('about-AchSlider');
            const frontBtn = document.getElementById('front-btn');
            const backBtn = document.getElementById('back-btn');

            // 可依實際卡片寬度調整（你卡片是 w-72 ≒ 288px，加點間距抓 300）
            const scrollAmount = 300;

            frontBtn.addEventListener('click', () => {
              slider.scrollBy({
                left: scrollAmount,
                behavior: 'smooth'
              });
            });

            backBtn.addEventListener('click', () => {
              slider.scrollBy({
                left: -scrollAmount,
                behavior: 'smooth'
              });
            });

          </script>


        </section>

        <div class="h-12 "></div> <!-- 留出 section 間距 -->

        <section id="steps"
                 class="h-screen-header min-h-min w-full flex-col-center-center snap-start-12">

          
            <h2>製作 Landing Page <br class="block sm:hidden">有哪些步驟呢？</h2>
            <div class="pb-12 flex justify-center items-center">

              <div id="steps-container" 
                  class="w-full h-[560px] flex-row-center-center
                         md:gap-8
                                  lg:px-12">
                <!-- 左側步驟列表 -->
                <div id="steps-list" 
                    class="sticky top-0 h-full text-IF-panel font-bold flex flex-col justify-between 
                               w-[100px]                      pl-6    py-0     text-xl     leading-normal      gap-1    
                            md:w-1/4     md:min-w-[180px]  md:pl-0 md:py-12 md:text-2xl md:leading-relaxed  md:gap-4">
                  <!-- JS引入內容-->
                </div>

                <!-- 右側說明內容 -->
                <div id="steps-content" 
                    class="flex-1 h-full rounded-sm bg-IF-panel shadow-lg 
                           overflow-y-scroll snap-y snap-mandatory scroll-smooth hide-scrollbar ">
                  <!-- JS引入內容-->
                </div>
              </div>

            </div>
          
          
          <script>
            function renderSteps(stepsArray) {

              const list  = document.getElementById('steps-list');
              list.innerHTML = ''; // 清空先前內容（避免重複）

              stepsArray.forEach(item => {
                const stepName = document.createElement('button');
                stepName.dataset.step = `${item.step}`;
                stepName.className = `
                    step-name
                    bg-gray-300 p-2 
                       flex-1 rounded-tl-md rounded-bl-md
                    md:h-auto md:rounded-sm
                `;
                stepName.innerHTML = `
                  ${item.step}. <br class="block md:hidden">${item.title}
                `;
                list.appendChild(stepName);
              });


              const content = document.getElementById('steps-content');
              content.innerHTML = ''; // 清空先前內容（避免重複）

              stepsArray.forEach(item => {
                const stepContent = document.createElement('div');
                stepContent.dataset.step = `${item.step}`;
                stepContent.className = `
                    step-content
                    flex snap-start h-[560px]
                       px-6
                    md:px-12
                `;
                stepContent.innerHTML = `
                    <div class="my-auto">
                      <p class="mb-2 font-bold text-IF-subtitle">階段目標：</p>
                      <p class="font-bold text-IF-text-emphasis">${item.objectives}</p>
                      <p class="mt-6 mb-2 font-bold text-IF-subtitle">執行項目：</p>
                      <ul class="list-disc pl-6 space-y-4">
                        ${item.details}
                      </ul>
                      <p class="mt-6 mb-2 font-bold text-IF-subtitle">預估工期：</p>
                      <p>${item.estimated}</p>
                    </div>
                `;
                content.appendChild(stepContent);
              });

              const step_Name = document.querySelectorAll('.step-name');
              const step_Content = document.querySelectorAll('.step-content');
              const content_Container = document.getElementById('steps-content');

              // 點擊左側按鈕 → 捲動到右側對應區塊
              step_Name.forEach(item => {
                item.addEventListener('click', () => {
                  const stepIndex = parseInt(item.dataset.step);
                  const target = document.querySelector(`.step-content[data-step="${stepIndex}"]`);
                  if (target) target.scrollIntoView({ behavior: 'smooth' });
                });
              });

              // 滾動右側 → 左側同步 focus
              const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    const index = entry.target.dataset.step;
                    step_Name.forEach(item => item.classList.remove('active'));
                    const active = document.querySelector(`.step-name[data-step="${index}"]`);
                    if (active) {
                      active.classList.add('active');

                    }
                  }
                });
              }, {
                root: content_Container,
                threshold: 0.5
              });

              step_Content.forEach(div => observer.observe(div));


            }
          
          </script>

        </section>

        <div class="h-12 "></div> <!-- 留出 section 間距 -->

        <section id="faq"
                 class="w-full min-h-min px-6 flex-col-start-center snap-start-12
                          min-h-screen-header-footer
                       md:min-h-screen-header-footer-md">

          <h2 class="">
            你可能會擔心這些問題？
          </h2>
          <div id="faq-container" 
               class="mb-12 w-full max-w-screen-md "></div>

          <script>
            function renderFAQ(data) {
              const container = document.getElementById('faq-container');
              container.innerHTML = '';

              data.forEach((item, index) => {
                const wrapper = document.createElement('div');
                wrapper.className = `
                    faq-item 
                    my-2 border-b border-IF-border py-2
                `;

                // 問題區塊
                const questionBtn = document.createElement('button');
                questionBtn.className = `
                    faq-question 
                    w-full flex text-left justify-between font-black
                `;
                const questionText = document.createElement('div');
                questionText.className = `flex mr-2`;
                questionText.innerHTML = `
                    <span class="q-number text-IF-subtitle mr-2">Q${index + 1}.</span> ${item.question}
                `;

                //可展開的圖示
                const arrow = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
                arrow.setAttribute('viewBox', '0 0 20 20');
                arrow.setAttribute('fill', 'currentColor');
                arrow.setAttribute('class', 'w-7 h-7 transform transition-transform duration-300');
                arrow.innerHTML = `<path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.939l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" />`;

                questionBtn.appendChild(questionText);
                questionBtn.appendChild(arrow);

                // 答案區塊
                const answer = document.createElement('div');
                answer.className = `
                    faq-answer 
                    hidden mt-2 mb-0 mx-6 leading-loose 
                `;
                answer.innerHTML = `
                    <div class="flex">
                      <span class="text-IF mr-2">A:</span>
                      <div>
                        <span>${item.answer}</span>
                        <br>
                        <span class="text-IF-text-emphasis">${item.emphasis}</span>
                      </div>
                    </div>
                `;

                // 點擊事件：展開收合
                questionBtn.addEventListener('click', () => {
                  answer.classList.toggle('hidden');
                  arrow.classList.toggle('rotate-180');
                });

                wrapper.appendChild(questionBtn);
                wrapper.appendChild(answer);
                container.appendChild(wrapper);
              });
            }

          </script>

        </section>

      </div> <!-- wrap end -->

    <footer id="footer"
            class="w-full bg-IF-panel snap-end">
      <div class="max-w-screen-xl mx-auto py-2 flex items-center justify-between text-sm
                     flex-col    py-4    px-6  gap-2
                  md:flex-row md:py-2 md:px-12 md:gap-0">

        <div class="flex gap-4 items-center text-IF-text-muted">
          <div class="flex gap-1 items-center">
            <img src="./img/icon/mail.png" alt="電子信箱" class="h-6 opacity-70">
            <a href="glenwen.studio@gmail.com">glenwen.studio@gmail.com</a>
          </div>
          <div class="flex gap-1 items-center">
            <img src="./img/icon/line.png" alt="line" class="h-6 opacity-70">
            <a href="https://line.me/ti/p/qPTsVnMrqs">a132768119</a>
          </div>  
        </div>

        <div class="flex-row-center-center">
         <p class="text-IF-text-subtle">© Copyright All Rights Reserved.</p>
         <img src="./img/IdeaFlask_mark.png" alt="概念燒瓶" class="object-cover h-8 ml-auto hidden md:block">
        </div>

      </div>
    </footer>

    </div> <!-- scroll-container end-->

    <script type="module" src="js/main.js"></script>
    <script type="module" src="js/load.js"></script>
    

  </body>

</html>
<script>/* 完成修改後，建置 SEO 版本 */
  /*
  cd /Users/simpleinfo/Documents/Project/Github/LandingPage/IdeaFlask
  npm run build:seo
  cp index-seo.html index.html
  */
</script>